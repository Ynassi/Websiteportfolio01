<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yanis NASSI - Portfolio</title>
    <link rel="stylesheet" href="../css/cyclistic_style.css">
   
    <!-- PRISM / CODE VIEWER -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>

</head>
<style>@font-face {
    font-family: 'Signatra';
    src: url('../fonts/Signatra.ttf') format('truetype');
}

@font-face {
    font-family: 'Helvetica';
    src: url('../fonts/Helvetica.ttc') format('truetype');
}
@font-face {
font-family: "Courier New";
src: url("../fonts/cour.ttf");
font-weight: 400;
}
/* Styles globaux */
body {
    background-color: #202020;  /* Gris foncé */
    color: #ffffff;  /* Blanc */
    font-family: 'Helvetica', sans-serif;
    text-align: center;
}

/* HEADER */
header {
    background-color: #181818; /* Gris encore plus foncé */
    padding: 10px 50px; /* Réduction plus douce */
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #333;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 10;
}

/* Partie gauche du header */
.header-left {
    display: flex;
    align-items: center;
}

.logo {
    height: 65px; /* Taille augmentée */
    margin-right: 40px;
}

.name {
    font-family: 'Signatra', sans-serif;  
    font-size: 2.8rem; /* Taille légèrement plus grande pour l'équilibre */

    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
    margin: 0;
    padding: 0;
    line-height: 1.1;
}

/* Liens du header */
.header-right {
    display: flex;
    gap: 30px;
    margin-right: 80px;
}

.header-right a {
    font-size: 1.6rem;
    color: #f0f0e6 !important;
    text-decoration: none !important;
    transition: color 0.3s;
}

.header-right a:hover {
    color: #00bfff;
}</style>
<body>
    <!-- HEADER -->
    <header>
        <div class="header-left">
            <a href="../index.html" class="home-link">
            <img src="../images/clipart.png" alt="Logo" class="logo img-sm">
            <h1 class="name">Yanis NASSI</h1>
         </a>
        </div>
        <nav class="header-right">
            <a href="../pages/portfolio.html">Portfolio</a>
            <a href="../pages/skills.html">Skills</a>
            <a href="../pages/art.html">Art</a>
            <a href="../pages/contact.html">Contact</a>
        </nav>
    </header>
        <!-- Bouton pour ouvrir la sidebar en mode mobile -->
<button class="toggle-btn" onclick="toggleSidebar()">☰ Menu</button>

<!-- Sidebar (menu latéral gauche) -->
<div class="sidebar">
    <ul>
        <li><a href="#scenario">SCENARIO</a></li>
        <li><a href="#ask">ASK</a></li>
        <li><a href="#get_data_ready">PRÉPARER</a></li>
        <li><a href="#cleaning">NETTOYER</a></li>
            <a class="toggle">ANALYSE ▼</a>
            <ul class="hidden"> 
                <li><a href="#analyse">Analyse </a></li>
                <li><a href="#general_analysis">Analyse Générale</a></li>
                <li><a href="#annual_growth">Évolution Annuelle</a></li>
                <li><a href="#meteo">Analyse Conditions Météo</a></li>
                <li><a href="#day_hour">Habitudes Hebdo / Quotidiennes</a></li>
                <li><a href="#bike_pref">Préférences Vélo</a></li>
                <li><a href="#stations">Stations</a></li>
                <li><a href="#trip">Trajets</a></li>
            </ul>
        </li>
        <li>
            <a class="toggle">INTERPRETATIONS ▼</a>
            <ul class="hidden">
                <li><a href="#interpret">Interprétations</a></li>
                <li><a href="#usage_max">Utilisation annuelle</a></li>
                <li><a href="#condi">Conditions Météo</a></li>
                <li><a href="#quot">Habitudes Hebdo / Quotidiennes</a></li>
                <li><a href="#velo">Préférences Vélo</a></li>
                <li><a href="#stat">Stations</a></li>
                <li><a href="#tripduration">Trajets</a></li>
            </ul>
        </li>
        <li>
            <a class="toggle">RECOMMANDATIONS ▼</a>
            <ul class="hidden">
                <li><a href="#reco">Recommandations</a></li>
                <li><a href="#double_p">Double Tarification</a></li>
                <li><a href="#employeurs">Employeurs</a></li>
                <li><a href="#sports">Sports</a></li>
                <li><a href="#students">Étudiants</a></li>
                <li><a href="#street">Street Marketing</a></li>
                <li><a href="#app">Application</a></li>
                <li><a href="#scotter">Scooter</a></li>
                <li><a href="#tripss">Réduction Longs Voyages</a></li>
            </ul>
        </li>
    </ul>
</div> 

    <!-- CONTENU PRINCIPAL -->
    <main>
        
        <img style="width: 100%;" loading="lazy" alt="" src="../images/images_cyclistic/image35.png" />
        <h1 class="title_cyclistic"> ÉTUDE DE CAS : CYCLISTIC BIKE SHARE</h1>
        <div>
            <h2 id = "scenario" class="paragraph_title">Scénario</h2>
            <p>
                <span>Cyclistic Bike Share est une entreprise qui propose un </span><b>programme de partage de vélo</b>
                <span>à Chicago depuis 2016. Leur but est de proposer une alternative de </span><b>transport pratique, inclusive
                et écologique</b>
                <span>aux habitants de la ville de Chicago et à ses visiteurs. Dans notre cas, nous sommes en 2025, Cyclistic a
                bien évolué depuis ses débuts et comme toute entreprise, elle cherche à maximiser ses profits.
                Chez Cyclistic, il y a possibilité d’opter pour un</span><b> abonnement annuel</b><span>, de prendre un
                </span><b>pass pour la journée</b><span> ou de payer son </span><b>trajet</b><span> de façon </span>
                <b>unitaire</b><span>. Les utilisateurs qui ont un abonnement annuel sont considérés comme
                des</span><b>“membres”</b><span>alors que les utilisateurs ponctuels (à la journée ou au trajet) sont
                considérés comme des utilisateurs “casual”. La direction de
                chez Cyclistic pense que</span><b> les utilisateurs “membres” sont plus rentables</b><span> que les “casual”
                pour la compagnie et </span><b>aimerait en augmenter le nombre</b><span>
                . Nous allons ici essayer de repérer </span><b>les tendances qui existent dans les comportement des “Membres”
                et des “Casual”</b>
                <span>vis à vis de l’utilisation du programme de partage de vélo Cyclistic et faire des recommandation basées
                sur les données pour l'aider a augmenter le nombre de ses “membres”.</span>

            </p>
            <h2 id = "ask" class="paragraph_title">“Ask” Demander :</h2>
            <p>
              <span>Nous analysons les besoins de Cyclistic avec les différentes parties prenantes du projet : L'équipe exécutive et Lily Moreno,
                 La directrice du département Marketing dont je dépend dans le cadre de cette étude. Nous définissons ensemble le problème : </span>
               <ul class = "custom-list"><p>
                <b><li>En quoi les comportements des membres et des “casual” différent-ils en ce qui concerne l’utilisation de Cyclistic ?</li></b>
                <li>Pourquoi les utilisateurs occasionnels achèteraient-ils un abonnement annuel Cyclistic ?</li>
                <li>Comment Cyclistic peut utiliser les médias numériques pour inciter les utilisateurs occasionnels à devenir membres ?</li>
               </ul></p>
             <p><span> Dans le cadre de ce cas d'études, Mme Moreno la directrice marketing de Cyclistic nous a assigné la première tâche [a)], celle de comparer les comportements des membres et des casual.</span></p>
            </p>
            <h2 id = "get_data_ready" class="paragraph_title">Préparer les données :</h2>
            <p><span><span>Nous aurons accès aux données historiques de Cyclistic pour l'année 2024, ces données sont des
              données privées de l’entreprise. Les données pour 2024 sont divisées en</span>
            <b class="i"> 12 fichiers mensuels </b><span>organisés selon les colonnes suivante:</span>
          </span>
        </p>
         <div class="data-list">
          <div><b>ride_id:</b><span>identifiant unique des trajets enregistrés</span></div>
          <div><b>rideable_bike:</b><span>type de vélo (classique, électrique, scooter électrique)</span></div>
          <div><b>started_at:</b><span>date et heure de début du trajet (M/j/aaaa hh:mm)</span></div>
          <div><b>ended_at:</b><span>date et heure de fin du trajet (M/j/aaaa hh:mm)</span></div>
          <div><b>start_station_name:</b><span>nom de la station où le trajet a commencé</span></div>
          <div><b>start_station_id:</b><span>identifiant de la station de départ</span></div>
          <div><b>end_station_name:</b><span>nom de la station où le trajet s'est terminé</span></div>
          <div><b>end_station_id:</b><span>identifiant de la station d’arrivée</span></div>
          <div><b>start_lat:</b><span>latitude de la station de départ</span></div>
          <div><b>start_lng:</b><span>longitude de la station de départ</span></div>
          <div><b>end_lat:</b><span>latitude de la station d’arrivée</span></div>
          <div><b>end_lng:</b><span>longitude de la station d’arrivée</span></div>
          <div><b>member_casual:</b><span>type d'utilisateur (membre, occasionnel)</span></div>
        </div>
        <p>
          <span>Les 12 fichiers combinées contiennent</span><b> plus de 6 millions d’observations</b><span>, nous utiliserons donc </span>
          <b>RStudio</b> <span>pour les traiter afin d'éviter les délais de traitement trop longs. Nous utiliserons aussi des </span><b>API</b><span>
            pour intégrer des données supplémentaires dans RStudio à partir d’autres applications (données géographiques et météorologiques),
            les Rpackages utilisés seront spécifiés au fur et à mesure.</span>
        </p>
        <p><span>Il est important de noter qu'en raison de problèmes de</span><b> confidentialité des données</b><span>
          , nous ne pouvons pas utiliser les informations personnelles identifiables des cyclistes.
           Cela signifie que nous ne pourrons pas relier les achats de pass aux numéros de carte de crédit pour déterminer 
           si les utilisateurs occasionnels vivent dans la zone de service de Cyclistic ou s'ils ont acheté plusieurs pass individuels</span>

      </p>
      <p>De plus, nous pouvons garantir l'intégrité et la fiabilité des données en utilisant le test ROCCC : </p>
      
        <ul class="bullet-list">
          <li>Les données sont <b>fiables</b> : elles sont représentatives de la population.</li>
          <li>Les données sont <b>originales</b> : la source primaire peut être identifiée.</li>
          <li>Les données sont <b>complètes </b> elles contiennent les informations essentielles nécessaires pour résoudre la tâche en cours.</li>
          <li>Les données sont <b>actuelles</b> : nous utilisons les données pour l'année 2024 en janvier 2025.</li>
          <li>Les données sont <b>citées</b> : elles proviennent d'une source vérifiée et crédible.</li>
         </ul>
      <h2 id = "cleaning" class="paragraph_title">Nettoyer et organiser les données en vue de l’analyse: </h2>
      <p>
        Premièrement, J’ai téléchargé les <b>12 fichiers mensuels</b> correspondant aux données de l'année 2024 a partir du dossier source suivant :
      </p>
      <a class = "liens" href = "https://divvy-tripdata.s3.amazonaws.com/index.html" > SOURCE DATA</a>
      <p>
        Je  les ai téléchargés en format .csv et les ai stockées dans le fichier “CASE_STUDY” de mon “Desktop”. 
        Vous pourrez trouver ci joint un journal des modifications de nettoyage apportées aux données en vue de l’analyse : 
      </p>
      <a class = "liens" href = "https://docs.google.com/spreadsheets/d/19UcAWHayE-KBJxJCpwI9ibafUY5zoP5ffZqouSfvFKY/edit?gid=0#gid=0
      " > FICHIER NETTOYAGE DATA</a>
      <p>
        Comme mentionné précédemment, nous utiliserons RStudio pour nettoyer les données. vous pouvez suivre le code “R” de mon analyse en suivant ce fichier Rscript :
      </p>
      <a class = "liens" href = "https://drive.google.com/file/d/1P53jdykNbrl6ncmgXom2unkOktKz2Yqj/view?usp=sharing" > RSCRIPT </a>
      <p>
        Pour commencer, nous devons <b>importer les 12 fichiers mensuels</b> et les réunir en une seule table annuelle. 
      </p>

      <div class="language-r"><pre><code class="language-r">
        # Définir le chemin d'accès au dossier contenant les fichiers CSV
        library("tidyverse")
        folder_path <- "/Users/msayn47painter/Desktop/CASE_STUDY"
                  
        # Lister tous les fichiers CSV dans le dossier
        file_list <- list.files(path = folder_path, pattern = "\\.csv$", full.names = TRUE)
                  
        # Charger tous les fichiers CSV dans une liste de dataframes
        csv_data_list <- lapply(file_list, read_csv)
                  
        # Combiner tous les fichiers CSV en une seule table
        bike_data <- bind_rows(csv_data_list)       
                </code></pre></div>
       <p>
        Suppression des <b>doublons</b> :
      </p>
      <div class="language-r">
        <pre><code class="language-r">
          # Suppression des doublons
          bike_data <- bike_data %>% distinct()
          
          # Verification de la suppression des doublons (doit etre =0)
          nrow(bike_data) - nrow(distinct(bike_data))
       </code></pre>
     </div>      
     <p>
      Validation des <b>formats</b> :
    </p><div class="language-r">
      <pre><code class="language-r">
          # Verification des formats de date
          bike_data <- bike_data %>%
           mutate(
            started_at = as.POSIXct(started_at, format = "%Y-%m-%d %H:%M:%S"),
            ended_at = as.POSIXct(ended_at, format = "%Y-%m-%d %H:%M:%S")
          )


          # Verification des autres formats 
          bike_data <- bike_data %>%
            mutate(
              ride_id = as.character(ride_id),
              rideable_type = as.character(rideable_type),
              start_station_name = as.character(start_station_name),
              start_station_id = as.character(start_station_id),
              end_station_name = as.character(end_station_name),
              end_station_id = as.character(end_station_id),
              member_casual = as.character(member_casual)
            )
      </code></pre></div>
    <p>
      Création de <b>nouvelles colonnes</b> : 
    </p>
    <div class="language-r">
      <pre><code class="language-r">
          # Creation d'une colonne pour mesurer la duree de chaque trajet 
          bike_data <- bike_data %>%
            mutate(
             trip_duration_secs = as.numeric(difftime(ended_at, started_at, units = "secs")),
             trip_duration_min = trip_duration_secs / 60
          )
        
          # Creation d'une colonne pour le jour de la semaine ou le trajet a ete effectue
          bike_data <- bike_data %>%
            mutate(day_of_week = weekdays(started_at))
        
          # Creation d'une colonne pour le mois
          bike_data <- bike_data %>%
            mutate(month = format(started_at, "%Y-%m"))
        
          # Creation d'une colonne pour l'heure 
          bike_data <- bike_data %>%
            mutate(hour = format(started_at, "%H"))
        )
  </code></pre>
  </div>

    <div class = "data-list"> 
      <div><b> tripduration_secs :</b> le temps du trajet en secondes</div>
      <div><b> tripduration_min :</b>le temps du trajet en minutes</span></div>
      <div><b> month :</b>le mois du trajet</span></div>
      <div><b> hour : </b> la plage horaire du trajet.</span></div>
    </div>
  <p>
    Nous ajouterons d’autres colonnes dans notre table <b> bike_data </b> par la suite.
  </p>
  <p>
    Nous allons maintenant créer de nouvelles tables afin d’analyser quelles sont les préférences des différents types d’utilisateur en termes de temps de trajet : 
  </p>
  <div class="language-r">
  <pre><code class="language-r"># Creation de tables pour les differents temps de trajets par intervalles 

# Moins de 1 seconde
less_than_1s <- bike_data %>% filter(trip_duration_secs < 1)

# Moins de 1 minute (60 secondes)
less_than_1min <- bike_data %>% filter(trip_duration_secs < 60)

# Moins de 4 minutes (240 secondes)
less_than_4min <- bike_data %>% filter(trip_duration_secs < 240)

# Moins de 15 minutes (900 secondes)
less_than_15min <- bike_data %>% filter(trip_duration_secs < 900)

# Moins de 1 heure (3600 secondes)
less_than_1hour <- bike_data %>% filter(trip_duration_secs < 3600)

# Entre 1 et 2 heures (3600 à 7200 secondes)
between_1and2hour <- bike_data %>% filter(trip_duration_secs >= 3600 & trip_duration_secs < 7200)

# Entre 2 et 6 heures (7200 à 21600 secondes)
between_2and6hour <- bike_data %>% filter(trip_duration_secs >= 7200 & trip_duration_secs < 21600)

# Entre 6 et 10 heures (21600 à 36000 secondes)
between_6and10hour <- bike_data %>% filter(trip_duration_secs >= 21600 & trip_duration_secs < 36000)

# Plus de 10 heures (36000 secondes et plus)
more_than_10hour <- bike_data %>% filter(trip_duration_secs >= 36000)
</code></pre></div>
<p>
  En analysant ces tables je me suis rendu compte que la table <b>moins de 1 seconde</b> avait des durées de <b>temps de trajet négatifs</b>. 
  Plutôt que de supprimer ces données aberrantes j’ai émis l'hypothèse que les “started_at” et “ended_at” avaient pu être inversées. 
  J’ai donc supprimé les tables et effectué une commande permettant <b>d’inverser les dates</b> “started at” et “ended at” pour les trajets ayant une <b>“tripduration_secs” négative</b>. 
  Nous réeffectuons la commande pour la création de tables par intervalles de temps par la suite.
</p>
<div class="language-r">
  <pre><code class="language-r"># Certains temps de trajet sont a l'envers : 
# Hypothese : les dates de depart et d'arrivee sont inversees.
# Remise a l'endroit des dates inversees 
bike_data <- bike_data %>% mutate(started_at = if_else(trip_duration_secs < 0, ended_at, started_at),
                              ended_at = if_else(trip_duration_secs < 0, started_at, ended_at),
                              trip_duration_secs = as.numeric(difftime(ended_at, started_at, units = "secs")),
                              trip_duration_min = trip_duration_secs / 60)
</code></pre></div>
<p>
  En analysant les différentes tables je me suis rendu compte qu’il y avait encore des lignes avec <b>des données manquantes</b>, 
  j’ai donc décidé de faire un dernier “round” de nettoyage general : 
</p><div class="language-r">
<pre><code class="language-r"># supprimer les valeurs manquantes 
bike_data <- bike_data %>% drop_na()
clean_tables <- function(...) {
  tables <- list(...)
  cleaned_tables <- lapply(tables, drop_na)
  return(cleaned_tables)
}

# Utilisation de la fonction
list_cleaned <- clean_tables(less_than_1s, less_than_1min, less_than_4min, 
                             less_than_15min, less_than_1hour, 
                             between_1and2hour, between_2and6hour, 
                             between_6and10hour, more_than_10hour)

# Attribution des résultats aux tables originales
less_than_1s <- list_cleaned[[1]]
less_than_1min <- list_cleaned[[2]]
less_than_4min <- list_cleaned[[3]]
less_than_15min <- list_cleaned[[4]]
less_than_1hour <- list_cleaned[[5]]
between_1and2hour <- list_cleaned[[6]]
between_2and6hour <- list_cleaned[[7]]
between_6and10hour <- list_cleaned[[8]]
more_than_10hour <- list_cleaned[[9]]</code></pre></div>
<h2 id= "analyse" class="paragraph_title">Analyse des données.</h2>
<p>Nous arrivons maintenant à la partie la plus excitante de cette étude de cas : <b>L’analyse.</b></p>
<div id = "general_analysis" class = "subtitle_analysis"><p><b><u>ANALYSE GENERALE</u></b></p></div>
<p> Nous allons commencer par analyser les variables individuellement avant de les mettre en relation. Premièrement, 
  quel est le pourcentage de membres par rapport au total d’utilisateurs en 2024 ?</p>
<p>  member_casual   count percentage
  <table class="custom-table">
    <tr>
        <td></td>
        <td>Nombre</td>
        <td>Pourcentage</td>
    </tr>
    <tr>
        <td>Casual</td>
        <td>2 151 658</td>
        <td>36.7%</td>
    </tr>
    <tr>
        <td>Member</td>
        <td>3 708 910</td>
        <td>63.3%</td>
    </tr>
</table>
<p>En 2024 il y a eu 63.3% des utilisateurs ayant effectué des trajets avec Cyclistic étaient des <b>membres</b> et 36.7 étaient des <b>casuals</b>
<div>
<img class = "graphs_charts" src ="../images/images_cyclistic/image24.png" alt="Prcnt_members"></div>
<div class ="language-r"><pre><code class="language-r"># DEBUT DE L"ANALYSE DES DONNEES

  # Analyse individuelle des differentes variables.
  
  # Pourcentages de "membres" et "casual"
  library(dplyr)
  percentage_member_casual <- function(data) {
    # Filtrer les données pour l'année 2024
    data_2024 <- data %>% filter(format(started_at, "%Y") == "2024")
    
    # Calculer le nombre total de trajets
    total_rides <- nrow(data_2024)
    
    # Calculer le nombre de trajets par type d'utilisateur
    counts <- data_2024 %>%
      group_by(member_casual) %>%
      summarise(count = n(), .groups = "drop")
    
    # Ajouter la colonne de pourcentage
    counts <- counts %>%
      mutate(percentage = (count / total_rides) * 100)
    
    return(counts)
  }
  
  # Utilisation de la fonction
  percentage_results <- percentage_member_casual(bike_data)
  
  # Affichage des résultats
  print(percentage_results)
</code></pre></div>
<p>
  Quel est <b>le mois</b> où les utilisateurs ont eu le <b>plus</b> recours au service de Bike Share ? 
</p>
<table class="single-row-table">
  <tr>
      <td>Septembre 2024</td>
      <td>820867</td>
      <td>14.0 %</td>
  </tr>
</table>
<p> Le mois de <b>Septembre 2024 </b>a été le plus fréquenté avec un total de <b>820 867 trajets</b> ce qui represente <b>14% des trajets totaux</b> en 2024. </p>
<p> Quel est <b>le mois</b> où les utilisateurs ont eu le <b>moins</b> recours au service de Bike Share ? </p>
<table class="single-row-table">
  <tr>
      <td>Jannvier 2024</td>
      <td>144873</td>
      <td>2.47 %</td>
  </tr>
</table>
<p> Le mois de <b>Janvier 2024</b> a été le mois le moins fréquenté par les utilisateurs de Cyclistic en 2024 avec 144 873 <b>trajets</b> ce qui représente <b>2.47% du total des trajets</b>.</p>
<div class = "language-r"><pre><code># Mois le plus frequente et le moins frequente de l'annee 2024 :

  # Mois le plus frequente ; 
  
  most_frequent_month_percentage <- function(data) {
    # Filtrer les données pour l'année 2024
    data_2024 <- data %>% filter(format(started_at, "%Y") == "2024")
    
    # Extraire le mois et compter les trajets
    monthly_counts <- data_2024 %>%
      mutate(month = format(started_at, "%Y-%m")) %>%
      group_by(month) %>%
      summarise(total_rides = n(), .groups = "drop")
    
    # Calcul du total des trajets sur l'année
    total_rides_2024 <- sum(monthly_counts$total_rides)
    
    # Trouver le mois avec le maximum de trajets
    most_frequent <- monthly_counts %>%
      filter(total_rides == max(total_rides)) %>%
      mutate(percentage = (total_rides / total_rides_2024) * 100)
    
    return(most_frequent)
  }
</code></pre></div>
<div class = "language-r"><pre><code># Mois le moisn frequente : 

  least_frequent_month_percentage <- function(data) {
    # Filtrer les données pour l'année 2024
    data_2024 <- data %>% filter(format(started_at, "%Y") == "2024")
    
    # Extraire le mois et compter les trajets
    monthly_counts <- data_2024 %>%
      mutate(month = format(started_at, "%Y-%m")) %>%
      group_by(month) %>%
      summarise(total_rides = n(), .groups = "drop")
    
    # Calcul du total des trajets sur l'année
    total_rides_2024 <- sum(monthly_counts$total_rides)
    
    # Trouver le mois avec le minimum de trajets
    least_frequent <- monthly_counts %>%
      filter(total_rides == min(total_rides)) %>%
      mutate(percentage = (total_rides / total_rides_2024) * 100)
    
    return(least_frequent)
  }
  
  # Utilisation de la fonction
  least_frequent_month_percentage(bike_data)
</code></pre></div>
<div id = "annual_growth" class = "subtitle_analysis"><p><b><u> ANALYSE DE L'ÉVOLUTION ANNUELLE PAR TYPE D’UTILISATEUR </u></b></p></div>
<p>Intéressons nous maintenant à l'évolution de la tendance continue sur l'année 2024</p>
<img class = "graphs_charts" src ="../images/images_cyclistic/image16.png" alt="Prcnt_members"></div>
<div class = "language-r"><pre><code>
  # Creation d'un graphique evolution du nombre d'utilisateurs par rapport au temps
  library("ggplot2")
  library("dplyr")
  monthly_counts <- bike_data %>%
    group_by(month, member_casual) %>%
    summarise(count = n(), .groups = "drop")
  ggplot(monthly_counts, aes(x = month, y = count, color = member_casual, group = member_casual)) +
    geom_line(size = 1) +
    geom_point(size = 2) +
    labs(title = "Évolution du nombre de trajets par type d'utilisateur",
         x = "Mois",
         y = "Nombre de trajets",
         color = "Type d'utilisateur") +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
</code></pre></div>
<p>
  Sans surprise, les utilisateurs ont beaucoup <b>plus utilisé</b> le service de Bikeshare <b>pendant les mois d'été</b>,
   il y a une grosse <b>augmentation</b> du nombre d’utilisateurs <b>au cours du mois d’avril</b> probablement expliquée par le retour des beaux jours.
    <b>Le pic de l'activité</b> pour l'année 2024 a été en <b>Septembre</b>.  
</p>
<div id = "meteo" class = "subtitle_analysis"><p><b><u> ANALYSE DES CONDITIONS MÉTÉOROLOGIQUES </u></b></p></div>
<p>Nous allons maintenant intégrer des données de <b>température</b> et de <b>précipitations</b> pour <b>Chicago</b> en 2024 grâce à un jeu de données trouvé sur <b>Weatherstack</b>. 
  Le fichier csv “export.csv” contient les données météorologiques pour <b>chaque journée de l'année 2024</b>, 
  il est organisé selon les colonnes suivantes :
  <div class="data-list">
    <div><b>date : </b><span>Date de l’enregistrement</span></div>
    <div><b>tavg : </b><span>Température moyenne </span></div>
    <div><b>tmin : </b><span>Température minimale</span></div>
    <div><b>tmax : </b><span>Température maximale</span></div>
    <div><b>prcp : </b><span>Precipitations</span></div>
    <div><b>snow : </b><span>Neige</span></div>
    <div><b>wdir : </b><span>Direction du vent</span></div>
    <div><b>wspd : </b><span>Vitesse du vent</span></div>
    <div><b>wpgt : </b><span>Rafales de vent</span></div>
    <div><b>pres : </b><span>Pression atmospherique</span></div>
    <div><b>tsun : </b><span>Ensoleillement</span></div>
  </div> 

<p>Pour alléger le processus d’analyse, nous n'utilisons que les variables “tavg” et “prcp”</p>

<p>De plus, nous pouvons garantir l'intégrité et la fiabilité des données en utilisant le test ROCCC : </p>
      
  <ul class="bullet-list">
    <li>Les données sont <b>fiables</b> : elles sont représentatives de la population.</li>
    <li>Les données sont <b>originales</b> : la source primaire peut être identifiée.</li>
    <li>Les données sont <b>complètes </b> elles contiennent les informations essentielles nécessaires pour résoudre la tâche en cours.</li>
    <li>Les données sont <b>actuelles</b> : nous utilisons les données pour l'année 2024 en janvier 2025.</li>
    <li>Les données sont <b>citées</b> : elles proviennent d'une source vérifiée et crédible.</li>
   </ul>
</p>
<div class = "language-r"><pre><code># Ajout des variables de precipitations et de temperature
library(dplyr)
library(lubridate)

# Charger le fichier export.csv
weather_data <- read.csv("/Users/msayn47painter/Desktop/export.csv")

# Convertir la colonne "date" en type Date
weather_data$date <- as.Date(weather_data$date)

# Charger bike_data (si ce n'est pas déjà fait)
# bike_data <- read.csv("chemin/vers/bike_data.csv")

# Extraire les dates de la colonne 'started_at' de bike_data et les convertir en type Date
bike_data$started_at <- as.POSIXct(bike_data$started_at)

# Extraire uniquement la date (sans l'heure) de started_at
bike_data$date <- as.Date(bike_data$started_at)

# Joindre les données météorologiques avec bike_data sur la date
bike_data <- left_join(bike_data, weather_data[, c("date", "tavg", "prcp")], by = "date")

# Renommer les colonnes pour correspondre aux nouvelles colonnes attendues
bike_data <- bike_data %>%
  rename(temperature = tavg, precipitation = prcp)

# Vérifier les premières lignes pour s'assurer que tout est bien intégré
head(bike_data)
</code></pre></div>
<img class = "graphs_charts" src ="../images/images_cyclistic/image8.png" alt="Prcnt_members"></div>
<div class = "language-r"><pre><code># Analyse des tempertures et precipitations annuelles.
# Charger les bibliothèques nécessaires
library(ggplot2)
library(dplyr)
library(lubridate)
library(tidyr)

# avec les colonnes "date" (format YYYY-MM-DD), "tavg" (température moyenne) et "prcp" (précipitations)

# Convertir la colonne date en format Date et extraire le mois pour s'assurer que tous les mois apparaissent
weather_data$date <- as.Date(weather_data$date)
weather_data$month <- format(weather_data$date, "%Y-%m") # Format YYYY-MM pour affichage mensuel

# Transformer les données au format long pour ggplot
weather_long <- weather_data %>%
  select(date, month, tavg, prcp) %>%
  pivot_longer(cols = c(tavg, prcp), names_to = "variable", values_to = "value")

# Créer le graphique avec les précipitations en barres et la température en ligne
ggplot(weather_long, aes(x = date, y = value, group = variable)) +
  geom_col(data = subset(weather_long, variable == "prcp"), aes(fill = "Précipitations"), width = 0.7) + 
  geom_line(data = subset(weather_long, variable == "tavg"), aes(color = "Température"), size = 1) +
  scale_x_date(date_breaks = "1 month", date_labels = "%b %Y") +  # Affichage de tous les mois
  scale_fill_manual(values = c("Précipitations" = "blue")) +  
  scale_color_manual(values = c("Température" = "red")) +  
  facet_wrap(~variable, scales = "free_y", ncol = 1) +  # Une colonne, chaque variable sur un graphique séparé
  labs(title = "Évolution des précipitations et de la température",
       x = "Date",
       y = "Valeur",
       fill = "Légende",
       color = "Légende") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))  # Incline les labels des mois pour meilleure lisibilité
</code></pre></div>
<p>
  Nous allons maintenant pousser <b>plus loin</b> notre étude pour déterminer l’effet de la température et des précipitations sur chacun des différents types d’utilisateurs et essayer de quantifier cet effet. 
  Pour cela nous utiliserons une <b>régression linéaire dans RStudio</b>.
</p>
<div class = "subtitle_analysis"><p><b><u>RÉGRESSION LINÉAIRE </u></b></p></div>
<p> Le nombre de trajets expliqués par la <b>température</b> et les <b>précipitations</b> pour chaque type de client indépendamment.
</p>
<p>
  Le but ici est de mesurer <b>la sensibilité à la température et aux précipitations</b> pour chaque type de client.
   L’influence de la température sur le recours au service de location de vélo est il plus important chez les membres ou chez les casual ?
   Quelle est cette influence en termes de mesure ?
</p>
<p>Modèle : </p>
<div class = "formula"><p><b> n_trips = β0 ​+ β1​×temperature + β2​×precipitation + ϵ </b></p></div>
<p>
  La régression linéaire sera performée sur 2 ensembles distinct : 
</p>
<ul class="bullet-list">
  <li>Les données pour les <b>membres</b></li>
  <li>Les données pour les <b>casual</b></li>
</ul>
<div class = "language-r"><pre><code># Creation d'une regression lineaire pour mesurer la sensibilite de chaque type de consommateur
# Par rapport a la temperature et aux precipitations sur le nombre de trajets 

# Séparer les données en fonction du type de consommateur (membres vs casuals)
member_data <- daily_data %>% filter(member_casual == "member")
casual_data <- daily_data %>% filter(member_casual == "casual")

# Régression pour les membres
member_model <- lm(n_trips ~ temperature + precipitation, data = member_data)
summary(member_model)

# Régression pour les casuals
casual_model <- lm(n_trips ~ temperature + precipitation, data = casual_data)
summary(casual_model)
</code></pre></div>
<div class = "subtitle_analysis"><p><b><u>RÉSULTATS:</u></b></p></div>
<div class = "subtitle_analysis"><p><b><u>Résultats membres:</u></b></p></div>
<div class = "language-r"><pre><code>
Call:
lm(formula = n_trips ~ temperature + precipitation, data = casual_data)

Residuals:
    Min      1Q  Median      3Q     Max 
-5349.4 -1573.5  -416.8  1097.3  9635.7 
 

Coefficients:
              Estimate Std. Error t value Pr(>|t|)    
(Intercept)    1235.08     231.90   5.326 1.78e-07 ***
temperature     371.51      13.66  27.199  < 2e-16 ***
precipitation  -124.40      19.73  -6.306 8.42e-10 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1


Residual standard error: 2615 on 359 degrees of freedom
  (4 observations deleted due to missingness)
Multiple R-squared:  0.675,	Adjusted R-squared:  0.6732 
F-statistic: 372.9 on 2 and 359 DF,  p-value: < 2.2e-16 </code></pre></div>
<p>
  <b>Température </b>: Le coefficient pour la température est <b>371.51</b>, 
  ce qui signifie qu'une augmentation de 1°C correspond à une augmentation de <b>371.51 trajets</b> en moyenne pour les casuals. 
  Cet effet positif sur l'utilisation des vélos est également significatif.
</p><p>

  <b>Précipitations </b>: Le coefficient pour les précipitations est <b>-124.40</b>, 
  ce qui montre que plus il pleut, moins les casuals utilisent leur vélo, 
  avec une diminution moyenne de <b>124.40 trajets</b> pour chaque unité d'augmentation des précipitations.
</p><p>
  
  <b>R² </b>: Le R² est de <b>0.675</b>, ce qui signifie que <b>67.5%</b> de la variation du nombre de trajets des 
  casuals peut être expliquée par la température et les précipitations.
</p>
<img class = "graphs_charts" src ="../images/images_cyclistic/image18.png" alt="Reg_lin_members"></div>
<img class = "graphs_charts" src ="../images/images_cyclistic/image22.png" alt="Reg_lin_members"></div>
<div class = "subtitle_analysis"><p><b><u>Résultats casuals:</u></b></p></div>
<div class = "language-r"><pre><code>Call:
lm(formula = n_trips ~ temperature + precipitation, data = casual_data)

Residuals:
    Min      1Q  Median      3Q     Max 
-5349.4 -1573.5  -416.8  1097.3  9635.7 
 

Coefficients:
              Estimate Std. Error t value Pr(>|t|)    
(Intercept)    1235.08     231.90   5.326 1.78e-07 ***
temperature     371.51      13.66  27.199  < 2e-16 ***
precipitation  -124.40      19.73  -6.306 8.42e-10 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1


Residual standard error: 2615 on 359 degrees of freedom
  (4 observations deleted due to missingness)
Multiple R-squared:  0.675,	Adjusted R-squared:  0.6732 
F-statistic: 372.9 on 2 and 359 DF,  p-value: < 2.2e-16</code></pre></div>
<p><b>Température</b> : Le coefficient pour la température est <b>371.51</b>, ce qui signifie qu'une augmentation de 1°C correspond à une augmentation de
<b>371.51 trajets</b> en moyenne pour les casuals. Cet effet positif sur l'utilisation des vélos est également significatif.


<b>Précipitations</b> : Le coefficient pour les précipitations est <b>-124.40</b>, ce qui montre que plus il pleut, moins les casuals utilisent leur vélo, 
avec une diminution moyenne de <b>124.40 trajets</b> pour chaque unité d'augmentation des précipitations.


<b>R²</b> : Le R² est de <b>0.675</b>, ce qui signifie que <b>67.5%</b> de la variation du nombre de trajets des casuals peut être expliquée par la température et 
les précipitations.
</p>
<img class = "graphs_charts" src ="../images/images_cyclistic/image23.png" alt="Reg_lin_members"></div>
<img class = "graphs_charts" src ="../images/images_cyclistic/Rplot05.png" alt="Reg_lin_members"></div>
<div class = "language-r"><pre><code># Creations de visualisation pour la relation entre temperature et le nombre de trajets.

# Visualisation pour les membres
ggplot(member_data, aes(x = temperature, y = n_trips)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "#2bbec5") +  # Bleu turquoise pour les membres
  labs(title = "Impact de la Température sur les Trajets des Membres",
       x = "Température (°C)", y = "Nombre de Trajets")

# Visualisation pour les casuals
ggplot(casual_data, aes(x = temperature, y = n_trips)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "#f4776b") +  # Rouge saumon pour les casuals
  labs(title = "Impact de la Température sur les Trajets des Casuals",
       x = "Température (°C)", y = "Nombre de Trajets")

# Creations de visualisation pour l relation entre les precipitations et le nombre de trajets.

# Visualisation pour les membres
ggplot(member_data, aes(x = precipitation, y = n_trips)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "#2bbec5") +  # Bleu turquoise pour les membres
  labs(title = "Impact des Précipitations sur les Trajets des Membres",
       x = "Précipitations (mm)", y = "Nombre de Trajets")

# Visualisation pour les casuals
ggplot(casual_data, aes(x = precipitation, y = n_trips)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "#f4776b") +  # Rouge saumon pour les casuals
      x = "Précipitations (mm)", y = "Nombre de Trajets")
</code></pre></div>
<div id = "day_hour" class = "subtitle_analysis"><p><b><u>ANALYSE DES HABITUDES D'UTILISATION HEBDOMADAIRES ET QUOTIDIENNES PAR TYPE D’UTILISATEUR.</u></b></p></div>
<p>
  Pour continuer notre analyse, nous allons maintenant nous intéresser aux <b>préférences des utilisateurs</b> et identifier des 
<b>tendances</b> dans les habitudes de chaque type de consommateur. 
  Pour cela, nous utiliserons des graphiques à barres pour illustrer l’utilisation 
<b>journalière</b> et <b>hebdomadaire</b> du programme de partage de vélos. 
</p>
<div class = "subtitle_analysis"><p><b><u>Jour de la semaine </u></b></p></div>
<img class = "graphs_charts" src ="../images/images_cyclistic/image37.png" alt="Reg_lin_members"></div>
<div class = "language-r"><pre><code># Creation d'un graphique pour definir le jour de la semaines ou les differents utilisateurs sont actifs.
library(ggplot2)
library(dplyr)

# Groupement des données par jour de la semaine et type d'utilisateur
bike_data_weekday <- bike_data %>%
  group_by(day_of_week, member_casual) %>%
  summarise(count = n()) %>%
  ungroup()

# Création du graphique
ggplot(bike_data_weekday, aes(x = day_of_week, y = count, fill = member_casual)) +
  geom_bar(stat = "identity", position = "dodge") +
  scale_fill_manual(values = c("member" = "#2bbec5", "casual" = "#f4776b")) +
  labs(title = "Nombre d'utilisateurs par jour de la semaine",
       x = "Jour de la semaine",
       y = "Nombre d'utilisateurs",
       fill = "Type d'utilisateur") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
</code></pre></div>
<p>
  On voit ici que les <b>membres</b> ont une utilisation beaucoup <b>plus constante</b> du service de partage de vélos que les <b>casuals</b> avec une baisse de 
  leur utilisation en fin de semaine. 
  Les <b>casuals</b>, eux, ont une claire hausse de leur utilisation en <b>fin de semaine</b>. 
</p>
<div class = "subtitle_analysis"><p><b><u>Heures de la journée </u></b></p></div>
<img class = "graphs_charts" src ="../images/images_cyclistic/image13.png" alt="Reg_lin_members"></div>
<p>
  Ici on voit bien qu’il y a 2 pics d’utilisation pour les <b>membres entre 06h00 et 09h00</b> et <b>entre 16h et 18h</b> ce qui peut correspondre à des horaires de bureaux. 
  L'évolution de l’utilisation des <b>casuals</b> est elle plus <b>constante</b> au cours de la journée avec un <b>pic d’utilisation à 17h</b>.
</p>
<div id= "bike_pref" class = "subtitle_analysis"><p><b><u>ANALYSE DES PRÉFÉRENCES EN TERME DE TYPE DE VÉLO PAR TYPE D’UTILISATEUR.</u></b></p></div>
<div class="image-container">
  <img src="../images/images_cyclistic/image6.png" alt="Reg_lin_members">
  <img src="../images/images_cyclistic/image9.png" alt="Reg_lin_members">
</div>
<div class = "language-r"><pre><code># Creation de graphiques par type d'utilisateur pour les velos
library(ggplot2)
library(dplyr)

# Préparation des données pour les membres et casuals
bike_data_members <- bike_data %>%
  filter(member_casual == "member") %>%
  count(rideable_type)

bike_data_casual <- bike_data %>%
  filter(member_casual == "casual") %>%
  count(rideable_type)

# Graphique en donut pour les membres
ggplot(bike_data_members, aes(x = "", y = n, fill = rideable_type)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar(theta = "y") +
  scale_fill_manual(values = c("electric_bike" = "#8E8D8A",  # Gris clair pour les vélos électriques
                               "classic_bike" = "#A3B18C",   # Vert olive pour les vélos classiques
                               "docked_bike" = "#F1C6A4",    # Beige pour les vélos dockés
                               "electric_scooter" = "#D1C6B1")) +  # Gris pâle pour les scooters électriques
  labs(title = "Préférences des membres par type de vélo", fill = "Type de vélo") +
  theme_void() +
  theme(legend.position = "right") +
  theme(plot.title = element_text(hjust = 0.5))

# Graphique en donut pour les utilisateurs casual
ggplot(bike_data_casual, aes(x = "", y = n, fill = rideable_type)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar(theta = "y") +
  scale_fill_manual(values = c("electric_bike" = "#8E8D8A",  # Gris clair pour les vélos électriques
                               "classic_bike" = "#A3B18C",   # Vert olive pour les vélos classiques
                               "docked_bike" = "#F1C6A4",    # Beige pour les vélos dockés
                               "electric_scooter" = "#D1C6B1")) +  # Gris pâle pour les scooters électriques
  labs(title = "Préférences des utilisateurs casual par type de vélo", fill = "Type de vélo") +
  theme_void() +
  theme(legend.position = "right") +
  theme(plot.title = element_text(hjust = 0.5))
</code></pre></div>
<p>Ici on peut voir que les <b>casual</b> ont un plus recours aux <b>scooters électriques</b> que les membres. Peut-être y a t il ici une information 
  importante qui demanderait une analyse de marché plus approfondie, 
  nous reviendrons la dessus dans la partie “recommandations”.</p>
<div id = "stations" class = "subtitle_analysis"><p><b><u>ANALYSE DES STATIONS </u></b></p></div>
<p>
  Nous allons maintenant nous intéresser aux préférences des utilisateurs concernant les <b>types de stations</b>. Pour cela nous ferons un graphique des <b>5 stations 
  les plus utilisées</b> et une <b>carte interactive de Chicago</b> pour situer les stations géographiquement. 
  Afin d’importer des données géographiques sur chicago nous utiliserons une API google maps pour importer nos données et utiliserons 
  le package ”leaflet” pour lire les données sur RStudio. 
  Le code R pour la création de cette carte interactive est fastidieux et long. 
  Pour suivre ce code veuillez vous référer au Script R.
</p>
<div class = "subtitle_analysis"><p><b><u>Carte interactive</u></b></p></div>
<div class="map-container">
  <iframe src="../images/images_cyclistic/carte_interactive_combined_extended.html" 
          width="1000px" height="1000px" 
          style="border: none;"></iframe>
</div>
<img class = "graphs_charts" src="../images/images_cyclistic/image11.png" alt="Reg_lin_members">
<img class = "graphs_charts" src="../images/images_cyclistic/image5.png" alt="Reg_lin_members">
<img class = "graphs_charts" src="../images/images_cyclistic/image7.png" alt="Reg_lin_members">
<p>
  La carte et les graphiques offrent beaucoup d’informations importantes et pertinentes.
   Premièrement les <b>causals</b> ont une <b>concentration plus forte</b> de leur utilisation sur <b>certaines stations</b>, 
   tandis que la répartition des stations utilisées par les <b>membres</b> est <b>plus uniforme</b>. Ce qui offre une opportunité de taille, 
   nous reviendrons la dessus dans nos recommandations. 
</p><p>
  Nous pouvons aussi remarquer que les <b>stations utilisées par les casuals</b> sont globalement plus situées sur le <b>bord du lac </b>
  (est) alors que les <b>membres</b> utilisent des stations plus dans le <b>centre ville (west)</b>. 
</p>
<div id= "trip" class = "subtitle_analysis"><p><b><u>ANALYSE DES DURÉES DE TRAJETS PAR TYPE D’UTILISATEUR</u></b></p></div>
<p>
  Pour finir, nous allons analyser et comparer les temps de trajets pour les utilisateurs par type d’utilisateurs. 
  Pour cela nous allons utiliser les tables créées par intervalles de durée :
</p>
<div class="data-list">
  <div><b>less_than_1s:</b><span>trajets de moins d’un seconde</span></div>
  <div><b>less_than_1min:</b><span>trajets de moins d’un minute</span></div>
  <div><b>less_than_4min:</b><span>trajets de moins de 4 minutes</span></div>
  <div><b>less_than_15min:</b><span>trajets de moins de 15 minutes</span></div>
  <div><b>less_thn_1hour :</b><span>trajets de moins d’une heure</span></div>
  <div><b>between_1and2hour :</b><span>trajets entre 1 et 2 heures</span></div>
  <div><b>between_2and6hour :</b><span>trajets entre 2 et 6 heures</span></div>
  <div><b>between_6and10hour:</b><span>trajets entre 6 et 10 heuresi</span></div>
  <div><b>more_than_10hour :</b><span>trajets de plus de 10 heures</span></div>
</div>
<img class = "graphs_charts" src="../images/images_cyclistic/image27.png" alt="Reg_lin_members">
<p>
  On voit bien ici que les utilisateurs <b>casuals</b> utilisent le service de partage de vélos pour des <b>trajets en moyenne plus longs</b> que les membres
</p>
<div class = "language-r"><pre><code># Creation d'un graphique representant l'utilisation par type de membres dans differents intervalles de temps
  library(ggplot2)
  library(dplyr)
  
  # Création des intervalles de temps pour la durée des trajets
  bike_data <- bike_data %>%
    mutate(duration_category = case_when(
      trip_duration < 1 ~ "less_than_1s",
      trip_duration < 60 ~ "less_than_1min",
      trip_duration < 240 ~ "less_than_4min",
      trip_duration < 900 ~ "less_than_15min",
      trip_duration < 3600 ~ "less_than_1hour",
      trip_duration < 7200 ~ "between_1and2hour",
      trip_duration < 21600 ~ "between_2and6hour",
      trip_duration < 36000 ~ "between_6and10hour",
      TRUE ~ "more_than_10hour"
    ))
  
  # Compter le nombre de trajets par catégorie de durée et par type d'utilisateur
  bike_data_duration <- bike_data %>%
    count(duration_category, member_casual) %>%
    arrange(factor(duration_category, levels = c("less_than_1s", "less_than_1min", 
                                                 "less_than_4min", "less_than_15min", 
                                                 "less_than_1hour", "between_1and2hour",
                                                 "between_2and6hour", "between_6and10hour",
                                                 "more_than_10hour")))
  
  # Générer le graphique
  ggplot(bike_data_duration, aes(x = duration_category, y = n, fill = member_casual)) +
    geom_bar(stat = "identity", position = "dodge") +
    scale_fill_manual(values = c("member" = "#2bbec5", "casual" = "#f4776b")) +
    labs(title = "Répartition des trajets par durée et type d'utilisateur",
         x = "Durée du trajet",
         y = "Nombre de trajets",
         fill = "Type d'utilisateur") +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
  </code></pre></div>
  <h2 id = "interpret" class="paragraph_title">Interprétations</h2>
  <div id= "usage_max" class = "subtitle_analysis"><p><b><u>PIC DE L'UTILISATION EN SEPTEMBRE : </u></b></p></div>
  <p>
    Plusieurs facteurs peuvent expliquer ce pic : <b>le retour à l'école des étudiants</b> (il serait intéressant dans ce cas de cibler cette clientèle dans notre campagne marketing afin d'inciter les étudiants “casual” à devenir “membres”). 
    Des pistes de ciblage de cette clientèle seront évoquées dans la partie “recommandations”. 
    Les 29 et 30 Septembres 2024, a eu lieu un <b>festival de musique “The World Music Festival Chicago”</b> il y a beaucoup d'<b>événements gratuits</b> dans le cadre de ce festival répartis sur <b>11 sites différents</b> dans tout Chicago. 
    On pourrait imaginer que ce type de festival influence <b>positivement</b> l’utilisation de Cyclistic par les utilisateurs. 
    Pour vérifier cette hypothèse, nous analyserons quels sont les 5 jours de Septembre ayant enregistré la plus grosse activité. 
  </p>
  <table class="custom-table">
    <tr>
        <td>Jour</td>
        <td>Nombre de trajets</td>
    </tr>
    <tr>
        <td> 2024-09-21 </td>
        <td> 34698</td>
    </tr>
    <tr>
        <td>2024-09-14</td>
        <td>33705</td>
    </tr>
    <tr>
      <td>2024-09-01</td>
      <td>31869</td>
  </tr>
  <tr>
    <td>2024-09-20</td>
    <td>30814</td>
  </tr>
  <tr>
    <td>2024-09-19</td>
    <td>30671</td>
  </tr>
  </table>
<p>
  Les journées ou les utilisateurs ont le plus utilisé le service de Cyclistic en Septembre 2024 sont les <b>21, 14, 01, 20 et 19 Septembre</b>. 
  Cela ne concorde pas avec les dates du festival “The World Music Festival Chicago”, toutefois, il y avait un autre 
  festival “Oktoberfest” à Lincoln Park le 21/09/2024. Si la station de <b>Lincoln Park</b> enregistre un nombre inhabituel de trajets, 
  il pourrait être pertinent d’envisager une action Marketing directement dans ce festival les prochaines années. 
</p>
<table class="custom-table">
  <tr>
      <td>Station</td>
      <td>Nombre de trajets ( arrivées + départs )</td>
  </tr>
  <tr>
      <td> Streeter Dr & Grand Ave </td>
      <td> 1267</td>
  </tr>
  <tr>
      <td><b>DuSable Lake Shore Dr & North Blvd</td>
      <td>980</b></td>
  </tr>
  <tr>
    <td>Michigan Ave & Oak St</td>
    <td> 687</td>
</tr>
<tr>
  <td> DuSable Lake Shore Dr & Monroe St</td>
  <td>652</td>
</tr>
<tr>
  <td>Theater on the Lake</td>
  <td>574</td>
</tr>
<tr>
  <td>Clark St & Lincoln Ave</td>
  <td>535</td>
</tr>
<tr>
  <td>Wells St & Concord Ln</td>
  <td>523</td>
</tr>
<tr>
  <td>Millennium Park</td>
  <td>502</td>
</tr>
<tr>
  <td>Clark St & Armitage Ave</td>
  <td>467</td>
</tr>
</table>
<p>
  La 2eme station la plus utilisée le 21 Septembre est une station proche du <b>Park Lincoln : DuSable Lake Shore Dr & North Blvd</b>, 
  mais de façon générale, les stations les plus utilisées ce jour là sont les <b>stations proches du Lac</b>. 
  Nous proposerons des recommandations plus détaillées dans la partie “recommandations” 
</p>
<div class = "language-r"><pre><code>
  # Analyse supplementaire pour les journees les plus actives de Septembre 
## (Y-a-til une augmentation de l'activite pendant "World Music festival Chicago" les 29 & 30 Septembres)
top_5_active_days_september <- function(data) {
  # Filtrer les données pour septembre 2024
  data_september <- data %>%
    filter(format(started_at, "%Y-%m") == "2024-09")
  
  # Grouper par jour et compter les trajets
  daily_counts <- data_september %>%
    mutate(day = format(started_at, "%Y-%m-%d")) %>%
    group_by(day) %>%
    summarise(total_rides = n(), .groups = "drop")
  
  # Trier et sélectionner les 5 jours les plus actifs
  top_5_days <- daily_counts %>%
    arrange(desc(total_rides)) %>%
    head(5)
  
  return(top_5_days)
}

# Utilisation de la fonction
top_5_active_days_september(bike_data)

# Analyse supplementaire : Stations les plus utilisees le jour le plus actif de Septembre 2024

library(dplyr)
library(tidyr)  # Ajoute cette ligne pour utiliser replace_na()

top_stations_sept21 <- function(data) {
  # Filtrer les données pour le 21 septembre 2024
  data_sept21 <- data %>%
    filter(format(started_at, "%Y-%m-%d") == "2024-09-21")
  
  # Compter les départs par station
  departures <- data_sept21 %>%
    group_by(start_station_name) %>%
    summarise(total_departures = n(), .groups = "drop")
  
  # Compter les arrivées par station
  arrivals <- data_sept21 %>%
    group_by(end_station_name) %>%
    summarise(total_arrivals = n(), .groups = "drop")
  
  # Fusionner les deux tables sur le nom des stations
  station_usage <- full_join(departures, arrivals, 
                             by = c("start_station_name" = "end_station_name")) %>%
    replace_na(list(total_departures = 0, total_arrivals = 0)) %>%  # Corrige les NA
    mutate(total_traffic = total_departures + total_arrivals) %>%
    arrange(desc(total_traffic))
  
  # Renommer la colonne des stations
  station_usage <- station_usage %>%
    rename(station_name = start_station_name)
  
  return(station_usage)
}

# Utilisation de la fonction
top_stations_sept21(bike_data)
</code></pre></div>
<div id = "condi" class = "subtitle_analysis"><p><b><u>CONDITIONS MÉTÉOROLOGIQUES</u></b></p></div>
<p>
  <p><b>Température </b>: La température a un effet positif sur le nombre de trajets, à la fois pour les membres et les casuals, 
  bien que l'effet soit légèrement plus marqué chez les membres (399.82 trajets par °C contre 371.51 trajets par °C pour les casuals). 
  Cela montre que la température influence de manière significative la fréquentation des vélos pour les deux groupes. Plus il fait chaud, 
  plus il y a de vélos. </p>

<p><b>Précipitations</b> : Les précipitations ont un effet négatif sur le nombre de trajets, à la fois pour les membres et les casuals, 
 mais l'effet est plus prononcé pour les casuals. Pour chaque unité d'augmentation des précipitations, le nombre de trajets diminue davantage chez les 
 casuals (124.40 trajets) que chez les membres (154.47 trajets).
 Comparaison des groupes : Les membres semblent plus sensibles aux changements de température, avec un effet plus marqué que les casuals. 
 Cependant, les casuals sont plus sensibles aux précipitations. Cela peut s’expliquer par le fait que les membres paient déjà pour leur abonnement, c’est comme s' ils avaient déjà payé pour leur jour de pluie, les casuals, eux, peuvent opter pour un moyen de transport différent les jours de pluie sans avoir à assumer le coût d'opportunité lié au fait de payer un abonnement.   
</p>
<p><b>Comparaison des groupes</b> : Les membres semblent plus sensibles aux changements de température, 
 avec un effet plus marqué que les casuals. Cependant, les casuals sont plus sensibles aux précipitations.</p>
<p>
Dans l’analyse des données météorologiques, on remarque aussi que les mois de <b>Juillet Août</b> ont été plus <b>pluvieux</b> que le mois de Septembre ce qui peut venir donner une explication supplémentaire  pour le pic d’utilisation annuel en Septembre.
</p></p>
<div id = "quot" class = "subtitle_analysis"><p><b><u>HABITUDES QUOTIDIENNES ET HEBDOMADAIRES</u></b></p></div>
<p>
  Les <b>membres</b> ont une utilisation du service de partage de vélos <b>répartie sur toute la semaine</b> avec une petite <b>baisse le week end</b> 
  tandis que les <b>casual</b> utilisent massivement les vélos les <b>samedi dimanche</b> et moins le reste de la semaine. 
  Les <b>pics d’utilisation journaliers</b> pour les <b>membres</b> sont <b>entre 06h et 09h</b> et <b>entre 16 et 18h</b>, l'évolution de l’utilisation des vélos par les <b>casuals</b> est 
  elle <b>plus constante</b> au cours de la journée. On peut en déduire que les <b>membres</b> utilisent 
  plus le service de partage de vélos pour se rendre au <b>travail</b> tandis que les <b>casuals</b> semblent plus avoir une utilisation de type <b>“loisir”</b>. 
</p>
<div id = "velo" class = "subtitle_analysis"><p><b><u>TYPES DE VÉLOS UTILISÉS </u></b></p></div>
<p>
Les deux types d’utilisateurs préfèrent les <b>vélos électriques</b>. Toutefois les <b>casuals</b> utilisent plus les <b>scooters électriques</b> que les membres. 
</p>
<div id = "stat" class = "subtitle_analysis"><p><b><u>STATIONS LES PLUS UTILISÉES</u></b></p></div>
<p>
  Les <b>casuals</b> ont une nette <b>concentration</b> de leur utilisation du service <b>sur certaines stations</b> tandis que les <b>membres</b> ont une utilisation des stations 
  plus <b>uniformément répartie</b>. Si les <b>membres</b> utilisent leur vélo majoritairement pour aller au <b>travail</b> cela peut expliquer cette meilleure répartition 
  (car les membres ne travaillent pas tous au même endroit). En s'intéressant à la <b>carte géographique</b>, on se rend compte que <b>les stations</b> les plus utilisées 
  par les <b>casuals</b> sont des stations situées au <b>bord de l’eau</b>, et les <b>membres</b> des stations situées plus <b>en ville</b> ou dans des <b>zones résidentielles</b>, les 2 
  stations proches de la <b>gare</b> sont aussi des stations de choix pour les membres. Les <b>casuals</b> aiment particulièrement les stations du <b>port ou de Lincoln Park</b>
  ainsi que toutes les stations proches du lac de manière générale. Encore un indice nous permettant d'affirmer que les membres utilisent en générale le 
  service pour le travail et les casuals pour le loisir. 
  C’est important pour savoir ou cibler les différents segments de clientèle. Nous reviendrons la dessus dans la partie “recommandations”.
</p>
<div id= "tripduration" class = "subtitle_analysis"><p><b><u>LES TEMPS DE TRAJET</u></b></p></div>
<p>
  Les <b>membres</b> utilisent le service pour effectuer des trajets en général <b>plus courts que les casuals</b>. 
  Il y a une <b>grande majorité de casuals</b> sur les trajets de <b>plus d’une heure</b>.</p> 
<p>Les trajets de <b>moins d'une seconde</b> sont surement des <b>erreurs système</b>.</p> 
<p>Les trajets de <b>moins d’une minute</b> sont surement dus à un <b>vélo défectueux</b>, l’utilisateur s’en rend compte et rend le vélo directement 
(ces informations peuvent s'avérer utile dans un cadre d’analyse qualité). </p>
<p>Les trajets de <b>moins de 4min</b> peuvent être de <b>très courts trajets</b>, ou alors l’utilisateur a pris un vélo “classique” dans une station ou 
aucun vélo électrique n'était disponible et s’est déplacé jusqu'à une autre station pour récupérer un vélo électrique, malheureusement nous sommes 
limités par la confidentialite des donnees pour mener cette analyse supplémentaire (pas de customer_id et impossibilité d’utiliser les données de carte 
de crédit).</p>
<p>Les trajets de <b>moins de 15min</b> et de <b>moins d’une heure</b> sont des <b>trajets courts réguliers</b>, pour se rendre au travail par exemple ou se rendre d’un point A 
à un point B.</p>
<p>Les trajets de <b>plus d' une heure</b> peuvent être perçus comme des randonnées cyclistes pour le plaisir ou une sortie sur le bord du lac en vélo. 
Encore une fois, notre hypothèse sur l’utilisation du service par les membres dans le cadre du travail est confirmée.</p>
</p>
<h2 id = "Reco" class="paragraph_title">Recommandations</h2>
<p>
  Afin d’augmenter le pourcentage de membres parmi les utilisateurs de Cyclistic, 
  plusieurs actions concrètes basées sur les données peuvent être envisagées. 
</p>
<div id = "double_p" class = "subtitle_analysis"><p><b><u>DOUBLE TARIFICATION DES ABONNEMENTS.</u></b></p></div>
<p>
Premièrement afin de capturer le plus fort achalandage dans la période d’<b>Avril à Septembre</b>, il semble indispensable de proposer un <b>abonnement mensuel</b>. 
</p><p><i>
Mais attention, cette double tarification <b>doit toujours inciter à prendre l’abonnement annuel</b>. 
Il y a un risque que certains membres qui avaient l’abonnement annuel et n’utilisaient les vélos que d’Avril à Septembre arrêtent de 
payer l’abonnement annuel pour prendre des abonnements mensuels seulement d’Avril à Septembre. 
Il faut donc être très vigilant sur la tarification pour pas que cette stratégie se retourne contre Cyclistic. 
</i></p>
<div id = "employeur" class = "subtitle_analysis"><p><b><u>PARTENARIAT AVEC DES EMPLOYEURS</u></b></p></div>
<p>
  Pour inciter les casuals à <b>utiliser le service pour aller au travail</b>, 
  des <b>partenariats avec des entreprises locales</b> pourraient être envisagés afin d’<b>inclure l’abonnement dans la rémunération de l'employé</b> ou 
  proposer des <b>réductions aux employés de certaines entreprises</b>. Des <b>campagnes de prévention et de sensibilisation</b> sur les bienfaits d’une 
  pratique cycliste régulière pourraient être diffusées par le biais des employeurs. 
</p>
<div id = "sports" class = "subtitle_analysis"><p><b><u>PARTENARIATS AVEC DES FESTIVALS OU DES ÉVÉNEMENTS SPORTIFS.</u></b></p></div>
<p>
Si les casuals préfèrent utiliser les vélos pour le loisir, des <b>partenariats avec des événements sportifs</b> ou des <b>festivals</b> par exemple pourraient être une bonne idée. 
Proposer par exemple des <b>avantages dans les festivals pour les membres</b> comme par exemple un accès à un <b>salon privé Cyclistic</b> ou une consommation gratuite. 

Les <b>partenariats avec des événements sportifs</b> peuvent aussi être une bonne opportunité de convertir des casuals en membres. Les randonnées de vélo, 
triathlons ou diverses courses de vélos pourraient représenter un atout de choix. Les événements sportifs pourraient alors offrir des avantages aux 
membres ou alors leur offrir la participation en échange de l’utilisation des vélos de Cyclistic dans le cadre de l'événement. 
Cyclistic pourrait aussi <b>organiser son propre événement sportif</b> en utilisant ses vélos et offrir la participation aux membres ou leur offrir 
une participation a prix réduit. 
</p>
<div id = "students" class = "subtitle_analysis"><p><b><u>OFFRIR DES RÉDUCTIONS ÉTUDIANTES SUR LES ABONNEMENTS (ANNUELS SEULEMENT).</u></b></p></div>
<p>
  La <b>double tarification à destination des étudiants</b> semble être une bonne manière de tendre la main à un segment de clientèle avec des moyens généralement 
<b>plus modestes</b>. C’est un bon moyen de <b>fidéliser la clientèle</b> a un moment où ils en ont vraiment besoin. Les étudiants pourront ainsi</b> développer de bonnes 
  habitudes</b> de cyclistes pour plus tard au travail.
</p>
<div id = "street" class = "subtitle_analysis"><p><b><u>STREET MARKETING ET PRÉSENCE DE RUE</u></b></p></div>
<p>
  Les <b>lieux proches du lac, le port ou Lincoln park</b> semblent représenter des cibles de choix pour des <b>opérations marketing sur le terrain</b>. 
  Comme la concentration des casuals se fait en ces lieux et surtout pendant les beaux jours d'été, une présence dans ces zones d’achalandage dans le 
  cadre de <b>campagnes de sensibilisation santé ou de marketing</b> peuvent représenter une opportunité significative de transformer des non membres en membres 
  et de prospecter pour de nouveaux clients.
</p>
<div id = "app" class = "subtitle_analysis"><p><b><u>CRÉATION D’UNE APPLICATION</u></b></p></div>
<p>
  La <b>création d’une application web et mobile</b> pourrait faciliter et rendre plus attractive l’utilisation du service. 
  Il pourrait être envisagé d’obliger les casual à créer un compte membre même pour un trajet simple et ainsi <b>avoir plus de données</b> à 
  intégrer dans nos futures analyses, et <b>mieux coller aux attentes de chaque segment de clientèle</b>. Une application peut aussi être un <b>bon vecteur 
  pour proposer des enquêtes de satisfaction et de qualité du service</b>. Si la direction exécutive de Cyclistic ne souhaite pas imposer le téléchargement 
  de l’application à ses utilisateurs, il est possible de naturellement les attirer dessus grâce à des offres promotionnelles ou à un interface attractif. 
</p>
<div id= "Scooter" class = "subtitle_analysis"><p><b><u>SCOOTER ÉLECTRIQUES</u></b></p></div>
<p>
  Il serait intéressant de connaître la <b>proportion de scooters électriques</b> dans la flotte de Cyclistic afin de la comparer 
  avec celle de sa concurrence. Les données ont démontré que les <b>casuals utilisaient plus de scooters électriques</b> que les membres. 
  Si la flotte de Cyclistic ne reflète pas cette préférence, cela peut expliquer que certains casuals rechignent à devenir membres 
  (surtout si les entreprises concurrentes en proposent). Il faudrait alors probablement <b>augmenter la flotte de scooters électriques</b>.
</p>
<div id= "tripss" class = "subtitle_analysis"><p><b><u>RÉDUCTIONS POUR LES MEMBRES SUR LES TRAJETS DE PLUS D’UNE HEURE.</u></b></p></div>
<p>
  Comme les casuals ont l’habitude de faire des trajets plus longs, il pourrait être intéressant <b>d'offrir des réductions aux membres sur les longs 
  trajets</b> pour inciter les casuals à devenir membres. Un système de bonification des longues distances pourrait aussi très bien être envisagé par le biais 
  de l’application et seulement pour les membres. Un système de compétition inter-membres pourrait être créé avec des défis sur les distances parcourues 
  par exemple. Des défis “jour de pluie” pourrait aussi être envisagés pour booster l’utilisation du service pendant ces journées moins achalandées. 
</p>
        </div>
        <script>
          document.addEventListener("DOMContentLoaded", function () {
              document.querySelectorAll(".sidebar .toggle").forEach((toggle) => {
                  toggle.addEventListener("click", function () {
                      const sublist = this.nextElementSibling;
                      sublist.style.display = sublist.style.display === "none" ? "block" : "none";
                  });
              });
          });
          
          // Pour le mode responsive (mobile)
          function toggleSidebar() {
              document.querySelector(".sidebar").classList.toggle("active");
          }
      </script>
    </main>
  </body>
</html>
     


   